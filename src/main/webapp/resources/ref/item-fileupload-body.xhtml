<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:p="http://primefaces.org/ui">
<!-- INTERFACE -->
<cc:interface>
    <!-- <cc:attribute name="value" required="false"/> -->
</cc:interface>

<!-- IMPLEMENTATION -->
<cc:implementation>

            <h:panelGroup rendered="#{refBean.refUserType.isCandidate and raterRefBean.rcItem.hasCandidateFileUpload}">

                <div style="text-align:center;padding-bottom:10px;padding-top:10px">
                    
                    <div id="candidatefileuploadstatusdiv" class="textmedium ttformtext" style="padding:5px;font-weight:normal;text-align:center">
                        <h:outputFormat rendered="#{raterRefBean.rcItem.hasNonAvCandidateFileUpload and raterRefBean.rcItemWrapper.rcRating.candidateRcUploadedUserFile ne null}" styleClass="textmedium ttformtext" value="#{stMessages['g.UploadedCandFilePrevNameDate']}">
                            <f:param value="#{raterRefBean.rcItemWrapper.rcRating.candidateRcUploadedUserFile.initialFilename}" />
                            <f:param value="#{raterRefBean.rcItemWrapper.rcRating.candidateRcUploadedUserFile.lastUpload}" />
                            <f:param value="#{raterRefBean.rcItemWrapper.rcRating.candidateRcUploadedUserFile.initialFileSize}" />
                        </h:outputFormat>
                        <h:outputFormat rendered="#{raterRefBean.rcItem.hasAvCandidateFileUpload and raterRefBean.rcItemWrapper.rcRating.rcUploadedUserFile ne null and raterRefBean.rcItemWrapper.rcRating.rcUploadedUserFile.fileContentType.audio}" styleClass="textmedium ttformtext" value="#{stMessages['g.UploadedCandAudioPrevNameDate']}">
                            <f:param value="#{raterRefBean.rcItemWrapper.rcRating.rcUploadedUserFile.lastUpload}" />
                            <f:param value="#{raterRefBean.rcItemWrapper.rcRating.rcUploadedUserFile.initialFileSize}" />
                        </h:outputFormat>
                        <h:outputFormat rendered="#{raterRefBean.rcItem.hasAvCandidateFileUpload and raterRefBean.rcItemWrapper.rcRating.rcUploadedUserFile ne null and raterRefBean.rcItemWrapper.rcRating.rcUploadedUserFile.fileContentType.video}" styleClass="textmedium ttformtext" value="#{stMessages['g.UploadedCandVideoPrevNameDate']}">
                            <f:param value="#{raterRefBean.rcItemWrapper.rcRating.rcUploadedUserFile.lastUpload}" />
                            <f:param value="#{raterRefBean.rcItemWrapper.rcRating.rcUploadedUserFile.initialFileSize}" />
                        </h:outputFormat>                        
                    </div>
                    
                    <ui:fragment rendered="#{not raterRefBean.rcItem.rcCandidateUploadType.anyAudioVideo}">
                        <p>
                            <h:outputText styleClass="textmedium ttformtext" value="#{stMessages['g.UploadSelect']}"/>
                        </p>
                        <div id="startrecbutdiv" style="display:inline-block">
                            <p:fileUpload value="#{raterRefUtils.uploadedFile}" styleClass="textmedium ttformtext" mode="simple" skinSimple="true"/>
                        </div>
                    </ui:fragment>

                    <ui:fragment rendered="#{raterRefBean.rcItem.rcCandidateUploadType.audio or raterRefBean.rcItem.rcCandidateUploadType.audioVideo}">
                        <div style="display:inline-block">
                            <p:button onclick="setForUploadStart(true); PF('avcommentsdialog').show(); return true" value="#{stMessages['g.RecordAudio']}" title="#{stMessages['g.RecordAudioTitle']}"/>
                        </div>
                    </ui:fragment>


                    <ui:fragment rendered="#{raterRefBean.rcItem.rcCandidateUploadType.video or raterRefBean.rcItem.rcCandidateUploadType.audioVideo}">
                        <div style="display:inline-block">
                            <p:button onclick="setForUploadStart(false); PF('avcommentsdialog').show(); return true" value="#{stMessages['g.RecordVideo']}" title="#{stMessages['g.RecordAudioTitle']}"/>
                        </div>
                    </ui:fragment>

                </div>

            </h:panelGroup>

</cc:implementation>
</html>