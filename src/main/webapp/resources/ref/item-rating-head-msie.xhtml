<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite">

<!-- INTERFACE -->
<cc:interface>
    <!-- <cc:attribute name="value" required="false"/> -->
</cc:interface>

<!-- IMPLEMENTATION -->
<cc:implementation>

    <style>
        .pincolclass
        {
            vertical-align: middle;
        }
        
        .anchordivouter
        {
            width:740px;margin-top:5px;margin-bottom:5px;vertical-align:bottom;display:table-cell
        }
        
        @media(max-width: 739px)
        {
            #lowmedanchordiv
            {
                display:none;
            }
            
            #medanchordiv
            {
                /* display:none; */
            }
            
            #medhighanchordiv
            {
                display:none;
            }            
        }        

        @media(max-width: 600px)
        {
            #lowanchordiv
            {
                font-size:1rem;
            }
            
            #medanchordiv
            {
                font-size:1rem;
            }
            
            #highanchordiv
            {
                font-size:1rem;
            }            
        }        

        @media(max-width: 500px)
        {
            #thumbsdowndiv
            {
                display:none;
            }
            
            #thumbsupdiv
            {
                display:none;
            }
            
            .rpnlthumbtd
            {
                display:none;
            }
            
            .rpnlcolx5
            {
                padding:0;
            }
            
            .ui-radiobutton.ui-widget
            {
                width:45px !important;
            }
        }        

        
        .lowanchordiv
        {
            float:left;
            text-align:left;
        }
        .lowmedanchordiv
        {
            margin-left:10px;
            float:left;
            text-align:center;
        }
        .medanchordiv
        {
            margin-left:10px;
            float:left;
            text-align:center;
        }
        .medhighanchordiv
        {
            margin-left:10px;
            float:left;
            text-align:center;
        }
        .highanchordiv
        {
            float:right;
            margin-left:10px;
            text-align:right;
        }

        .thumbsdownimg
        {
            float:left;
            width:60px;
            height:60px;
            margin-top:16px;
        }

        .thumbsupimg
        {
            float:right;
            width:60px;
            height:60px;
            margin-top:16px;
        }
        
        
        
        
        .rbtntable
        {
            width:100%;
            max-width:660px;
        }
        
        .pincolclass
        {
            vertical-align: middle;
        }
        
        .prottext 
        {
            user-select: none;
        }
        
        .rpnlcolthumbdown
        {
            min-width:80px;
        }

        .rpnlcolthumbup
        {
            min-width:80px;
        }

        
        .rpnlcolx5
        {
            padding:5px 5px 5px 5px;  
            text-align:center;
            vertical-align:middle;
            /*width:15%;*/
            /* width:160px; */
        }
        
        .rplleftside
        {
            border-top-left-radius: 6px;
            border-bottom-left-radius: 6px;
        }

        .rplrightside
        {
            border-top-right-radius: 6px;
            border-bottom-right-radius: 6px;
        }
        
        .rpnlcolbuts
        {
            background-color:#e0e0e0;
        }
        
    </style> 

    <ui:fragment rendered="#{refBean.rcCheck.rcScript.rcRatingScaleType.isOneToFive}">
    <style>
        #sliderelediv
        {
            padding-left:40px;
        }
        .ui-radiobutton.ui-widget
        {
            width:60px;
        }
    </style> 
    </ui:fragment>
    
    

    <script type="text/javascript">
        //<![CDATA[
        
        function doLocalPageOnload()
        {
            logIt( 'item-rating-head-msie.xhtml.doLocalPageOnload() START' );
            
            var twid = window.innerWidth;

            if( twid<740 )
            {
                // need to resizethe thumb images
                // normally 60
                var thumbWid = Math.max( 40, parseInt(60*twid/740) );
                var thumbTopMargin =  parseInt( (60-thumbWid)/2 ) - 1;
                var thumbTdMargin = parseInt( 20*(thumbWid/60) );
                
                
                var tes = document.getElementById('thumbsdownimg').style;
                tes.marginTop=thumbTopMargin + 'px';
                tes.width=thumbWid + 'px';
                tes.height=thumbWid + 'px';
               
                tes = document.getElementById('thumbsupimg').style;
                tes.marginTop=thumbTopMargin + 'px';
                tes.width=thumbWid + 'px';
                tes.height=thumbWid + 'px';
                
                tes = document.getElementById('thumbsupdiv').style;
                tes.marginLeft=thumbTdMargin + 'px';
                
                var eles = document.getElementsByClassName('rpnlthumbtd');
                
                for( var i=0;i<eles.length;i++ )
                {
                    logIt( 'item-rating-head-msie.xhtml.doLocalPageOnload() bbb thumbWid=' + thumbWid + ', minWidth=' + (thumbWid + thumbTdMargin) + 'px' );         
                    tes = eles[i].style;
                    tes.minWidth=(thumbWid + thumbTdMargin) + 'px';
                    tes.width=(thumbWid + thumbTdMargin) + 'px';
                }
                
                // resize the thumb td cells normall 80
                

                logIt( 'item-rating-head-msie.xhtml.doLocalPageOnload() twid=' + twid + ', thumbWid=' + thumbWid );            
            }
                        
            
            
        }
        
        function doLocalPageOnUnload()
        {
        }
        
        function doSkipButton()
        {
            skipped = true;
        }
        
        function logIt( m )
        {
            console.log( 'item-rating.xhtml ' + m );
        }

        function logErr( e, m )
        {
            console.log( 'item-rating.xhtml ' + m + (e ? ", " + e.message + ",\n" + e.stack : "" ));
        }
    
        window.addEventListener( 'load', function(){ doLocalPageOnload(); } );
        
        //////////////////////////////////////////////
        // SLIDER VARIABLES
        //////////////////////////////////////////////
        var isPointer = false;
        var isTouch = false;
        var isMouse = false;
        
        var needsSlider = #{raterRefBean.rcItem.includeNumRatingB};
        
        var sliderUrl = '/tr/images/slider.png';
        var trackEle = null;
        var trackWid = 570;
        var trackHgt = 95;
        var trkMargin = 0;
        var vertOffset = 5;
        var trackLeft = 0;
        var trackRight = 0;
        var trackPos = null;
        var sliderDiv = null;
        var sliderEle = null;
        var sliderWid = 48;
        var sliderHgt = 48;
        var dragRect = null;
        var middleX = 0;
        var middleY = 0;
        
        var valueLeft = #{refBean.rcCheck.rcScript.rcRatingScaleType.minScore};
        var valueRight = #{refBean.rcCheck.rcScript.rcRatingScaleType.maxScore};
        
        var hasPrev = false;
        var prev = #{raterRefBean.rcItemWrapper.rcRating.score};
        
        var msOutTmout=0;
        var msOvrListRef=null;
        var msMvListRef=null;
        var msUpListRef=null;
        var msDnX = 0;
        var msDnY = 0;
        
        var dragng = false;
        var stM = null;
        var ptrId = 0
        var rqdMsg = "#{stMessages['g.XRRatingReqd']}";
        
        var skipped = false;

    
        function doValidateRating()
        {
            logIt( 'doValidateRating() ' );
            return false;
        }
    
    // ]]>        
    </script>


</cc:implementation>
</html>