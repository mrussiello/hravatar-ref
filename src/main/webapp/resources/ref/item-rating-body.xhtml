<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:ref="jakarta.faces.composite/ref">

<!-- INTERFACE -->
<cc:interface>
    <!-- <cc:attribute name="value" required="false"/> -->
</cc:interface>

<!-- IMPLEMENTATION -->
<cc:implementation>
    
    <br style="clear:both"/>

    <div style="padding-left:0px;padding-right:0px;max-width:800px;margin:auto auto;text-align:center">
    <h:form prependId="false" enctype="#{raterRefUtils.formEncType}">
    <ref:stdforminputs />
    <ref:raterforminputs />
    <input type="hidden" id="ratingvalue" name="ratingvalue" value="#{raterRefBean.rcItemWrapper.rcRating.score}"/>

        <ref:messages-embedded />

        <h1 class="pagetitle ttboldtitle" tabindex="0">
            <h:outputFormat rendered="#{not refBean.rcCheck.rcRater.isCandidateOrEmployee}" value="#{stMessages['g.XCQuestionXofY']}">
                <f:param value="#{raterRefUtils.raterQuestionNumber}"/>
                <f:param value="#{raterRefUtils.raterQuestionCount}"/>
            </h:outputFormat>
            <h:outputFormat rendered="#{refBean.rcCheck.rcRater.isCandidateOrEmployee}" value="#{stMessages['g.XCQuestionXofY']}">
                <f:param value="#{candidateRefUtils.raterQuestionNumberForCandidate}"/>
                <f:param value="#{candidateRefUtils.candidateTotalQuestionCount}"/>
            </h:outputFormat>            
        </h1>


        <ui:fragment rendered="#{raterRefBean.rcItem.includeNumRatingB and (raterRefBean.rcItemWrapper.showPrimaryItemToCandidate or not refBean.refUserType.isCandidate)}">
        <ref:item-accessible />
        </ui:fragment>
            
        <h:panelGrid columns="1" columnClasses="pincolclass,pincolclass,pincolclass" cellpadding="6" style="padding-top:5px;padding-bottom:5px;margin-top:20px;margin-right:auto;margin-left:auto;margin-bottom:0">

            <ui:fragment rendered="#{not refBean.refUserType.isCandidate and raterRefBean.rcItem.showCandRespToRater eq 1 and raterRefBean.rcItemWrapper.rcRating ne null and raterRefBean.rcItemWrapper.rcRating.candidateRcRating ne null}">
                <ref:item-candidate-response-body />    
            </ui:fragment>
            
            <ref:item-infoquestion />
            
            <h:panelGroup rendered="#{raterRefBean.rcItem.includeNumRatingB and (raterRefBean.rcItemWrapper.showPrimaryItemToCandidate or not refBean.refUserType.isCandidate)}">
                <div style="text-align: center;padding-top:10px;padding-bottom:10px">
                    <div style="display:inline-block;">
                                      
                    <div id="anchordivouter" class="anchordivouter customanchordivouter">
                        <div id="lowanchordiv" class="lowanchordiv prottext ttformtext customanchordiv" style="width:#{raterRefBean.rcItem.anchorwidthPix}px" tabindex="0">
                            <h:outputText value="#{raterRefBean.rcItem.choice2}"/>
                        </div>
                        <ui:fragment rendered="#{fn:length(raterRefBean.rcItem.choice4) gt 0}">
                        <div id="lowmedanchordiv" class="lowmedanchordiv prottext ttformtext customanchordiv" style="width:#{raterRefBean.rcItem.anchorwidthPix}px" tabindex="0">
                            <h:outputText value="#{raterRefBean.rcItem.choice4}"/>
                        </div>
                        </ui:fragment>
                        <ui:fragment rendered="#{fn:length(raterRefBean.rcItem.choice3) gt 0}">
                        <div id="medanchordiv" class="medanchordiv prottext ttformtext customanchordiv" style="width:#{raterRefBean.rcItem.anchorwidthPix}px" tabindex="0">
                            <h:outputText value="#{raterRefBean.rcItem.choice3}"/>
                        </div>
                        </ui:fragment>
                        <ui:fragment rendered="#{fn:length(raterRefBean.rcItem.choice5) gt 0}">
                        <div id="medhighanchordiv" class="medhighanchordiv prottext ttformtext customanchordiv" style="width:#{raterRefBean.rcItem.anchorwidthPix}px" tabindex="0">
                            <h:outputText value="#{raterRefBean.rcItem.choice5}"/>
                        </div>
                        </ui:fragment>
                        <div id="highanchordiv" class="highanchordiv prottext ttformtext customanchordiv" style="width:#{raterRefBean.rcItem.anchorwidthPix}px" tabindex="0">
                            <h:outputText value="#{raterRefBean.rcItem.choice1}"/>
                        </div>
                    </div>

                    <div id="trackdivouter" style="width:740px;margin-top:5px;margin-bottom:0px;margin-left:auto;margin-right:auto">
                        
                        <div id="thumbsdownimg" class="thumbsdownimg">
                            <img id="thumbsdownimg2" src="/tr/images/thumbsdown-trans.png" alt=""/>
                        </div>
                                                                       
                        <div id="sliderelediv" style="float:left;width:570px;margin-top:0px;margin-left:25px">
                            
                                <ui:fragment rendered="#{raterRefBean.rcItem.denyMiddleB}">
                                    <img id="trackbarimg" src="/tr/images/trackbar-no-neutral.png" style="width:570px;height:95px" alt="#{stMessages['g.SliderTrackAlt']}"/>                        
                                </ui:fragment>
                                <ui:fragment rendered="#{not raterRefBean.rcItem.denyMiddleB}">
                                    <img id="trackbarimg" src="/tr/images/trackbar.png" style="width:570px;height:95px" alt="#{stMessages['g.SliderTrackAlt']}"/>                        
                                </ui:fragment>                                                        
                        </div>
                        
                        <div id="thumbsupimg" class="thumbsupimg">
                        <img id="thumbsupimg2" src="/tr/images/thumbsup-trans.png" alt=""/>
                        </div>
                    </div>
                        
                    </div>
                </div>
            </h:panelGroup>
            
            <ref:item-fileupload-body />
                                                
            <h:panelGroup rendered="#{not refBean.rcCheck.rcScript.noCommentsRatingItemsB or not raterRefBean.rcItem.includeNumRatingB}">
                <ref:item-comments avCommentsOk="#{not facesUtils.isMsie}"/>                
            </h:panelGroup>
             

            
            <h:panelGroup>
                <div style="text-align: center">
                    <div style="display:inline-block;">
                        <p:commandButton style="margin-bottom:5px" ajax="false" action="#{raterRefUtils.processSaveItemResp}" onclick="if( doValidateRating() ) { PF('ratingrequireddialog').show(); return false; }" value="#{stMessages['g.RecordAnswer']}" title="#{stMessages['g.RecordAnswerInfo']}">
                            <f:setPropertyActionListener target="#{raterRefUtils.booleanParam1}" value="false"/>
                        </p:commandButton>
                        &#160;
                        <p:commandButton style="margin-bottom:5px" rendered="#{not refBean.rcCheck.rcRater.isCandidateOrEmployee and raterRefBean.itemDisplayOrder gt 1}" ajax="false" action="#{raterRefUtils.processSaveItemResp}" value="#{stMessages['g.Back']}">
                            <f:setPropertyActionListener target="#{raterRefUtils.booleanParam1}" value="true"/>
                        </p:commandButton>
                        <p:commandButton style="margin-bottom:5px" rendered="#{refBean.rcCheck.rcRater.isCandidateOrEmployee and candidateRefUtils.raterQuestionNumberForCandidate gt 1}" ajax="false" action="#{raterRefUtils.processSaveItemResp}" value="#{stMessages['g.Back']}">
                            <f:setPropertyActionListener target="#{raterRefUtils.booleanParam1}" value="true"/>
                        </p:commandButton>
                    </div>
                </div>
            </h:panelGroup>

            <ref:item-skipbutton />
            
        </h:panelGrid>
    
        <p:dialog modal="true" header="#{stMessages['g.XRPlsSelectARtg']}" style="max-width:550px;font-size:1.3rem;margin-left:2px;margin-right:2px" widgetVar="ratingrequireddialog" closeOnEscape="true" closable="true" showEffect="fade" hideEffect="fade">
            <div role="error">
            <h:panelGrid columns="1" cellpadding="4">
                <h:outputText value="#{stMessages['g.XRPlsSelectARtg.P1']}" />

                <h:panelGroup>
                        <p:button value="#{stMessages['g.OK']}" onclick="return PF( 'ratingrequireddialog' ).hide()"/>
                    </h:panelGroup>
                </h:panelGrid>
                </div>
        </p:dialog>
    
        <ref:avcomments-dialog />
    
    </h:form>
        
        
    </div>
    
    

    <br />&#160;


</cc:implementation>
</html>