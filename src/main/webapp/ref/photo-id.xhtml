<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:pp="http://xmlns.jcp.org/jsf/composite/pp"
      xmlns:ref="http://xmlns.jcp.org/jsf/composite/ref"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
    <body>

        <ui:composition template="#{corpBean.template}">

            <ui:define name="titletag">
                <title><h:outputText rendered="#{not refBean.isMrf}" value="#{stMessages['ttl.RcChk']} #{stMessages['ttl.PhotoId']}"/>
                    <h:outputText rendered="#{refBean.isMrf}" value="#{stMessages['ttl.Mrf']} #{stMessages['ttl.PhotoId']}"/></title>
            </ui:define>


            <ui:define name="headspec">

                <pp:photo-upload-head />

            </ui:define>


            <ui:define name="coreinnersection">

                <ref:messages-embedded />

                <h:form prependId="false" >

                    <ref:stdforminputs />
                    <ref:noncoreforminputs />
                    <pp:pp-forminputs />

                    <h:panelGrid columns="1" cellpadding="5" style="padding-left:10px;padding-right:10px;max-width:800px;margin-left: auto;margin-right: auto;padding-top:2px;padding-bottom:8px">

                        <h:panelGroup>
                            <span tabindex="0">
                                <h:outputText rendered="#{proctorUtils.photosOptional}" styleClass="textverylarge textbold ttboldtitle" value="#{stMessages['g.PPT.candid.titleoptional']}"/>
                                <h:outputText rendered="#{not proctorUtils.photosOptional}" styleClass="textverylarge textbold ttboldtitle" value="#{stMessages['g.PPT.candid.title']}"/>
                            </span>
                        </h:panelGroup>

                        <h:panelGroup>
                            <span tabindex="0">
                                <h:outputFormat rendered="#{proctorUtils.photosOptional}" styleClass="ttformtext" value="#{stMessages['g.PPT.candid.P0.optional']}">
                                    <f:param value="#{refUtils.rcCheckTypeName}"/>
                                </h:outputFormat>
                                <h:outputFormat rendered="#{not proctorUtils.photosOptional}" styleClass="ttformtext" value="#{stMessages['g.PPT.candid.P0']}">
                                    <f:param value="#{refUtils.rcCheckTypeName}"/>
                                </h:outputFormat>
                            </span>
                        </h:panelGroup>


                        <h:panelGroup>
                            <span tabindex="0">
                                <h:outputText styleClass="ttformtext" value="#{stMessages['g.PPT.candid.P1']}" escape="false"/>
                            </span>
                        </h:panelGroup>

                        <h:panelGroup>
                            <span tabindex="0">
                                <h:outputText styleClass="ttformtext" value="#{stMessages['g.PPT.candid.P2']}" escape="false"/>
                            </span>
                        </h:panelGroup>

                        <h:panelGroup>
                            <span tabindex="0">
                                <h:outputText styleClass="ttformtext" value="#{stMessages['g.PPT.candid.P3']}" escape="false"/>
                            </span>
                        </h:panelGroup>

                        <h:panelGroup>
                            <span tabindex="0">
                                <h:outputText styleClass="ttformtext" value="#{stMessages['g.PPT.candid.P4']}" escape="false"/>
                            </span>
                        </h:panelGroup>

                        <h:panelGrid columns="1" cellpadding="5" style="margin-left: auto;margin-right:auto;margin-top:10px" columnClasses="imgcapturecola,imgcapturecolb">

                            <h:panelGroup>
                                <div id="ppthumbdiv" onclick="doImageSnap();" style="cursor:pointer;max-width:400px;max-height:300px">
                                    <!-- Video element inserted here by proctor-img.js -->
                                </div>
                            </h:panelGroup>

                            <h:panelGroup>
                                <div style="text-align:center">
                                    <div style="inline-block" role="region" aria-label="#{stMessages['g.PPPhotoControlsRegion']}" aria-describedby="cameracontrolsregioninfo">
                                        <span id="capturebut">
                                            <p:button value="#{stMessages['g.CapturePhoto']}" pt:aria-keyshortcuts="Control+F6" title="#{stMessages['g.CapturePhotoInfo']}"  onclick="doImageSnap();  return false;"/>
                                        </span>

                                        <a tabindex="0" class="ttformlink" id="snapshotretrylink" href="#" style="display:none" pt:aria-keyshortcuts="Control+F6" title="#{stMessages['g.PPT.candphoto.retryinfo']}" onclick="doImageCaptureRetry(); return false;">
                                            <h:outputText styleClass="pflinktext anylink ttformlink" style="font-size:16px" value="#{stMessages['g.PPT.candphoto.retry']}"/>
                                        </a>
                                        <span id="cameracontrolsregioninfo" class="sr-only"><h:outputText value="#{stMessages['g.PPPhotoControlsRegion.desc']}"/></span>
                                    </div>
                                </div>
                            </h:panelGroup>

                        </h:panelGrid>

                        <h:panelGroup>
                            <div style="text-align:center;padding-top:10px">
                                <div style="display:inline-block">
                                    <div id="uploadimagebutton" style="display:none">
                                        <p:commandButton ajax="true" pt:aria-keyshortcuts="Control+F7" value="#{stMessages['g.PPT.candid.upload.alt']}" onclick="showHideImageUploadDialog(true); doImageUpload(); return false;"/>
                                    </div>
                                    <ui:fragment rendered="#{proctorUtils.photosOptional}">
                                        &#160;
                                        <p:commandButton ajax="false" value="#{stMessages['g.Skip']}" action="#{proctorUtils.processSkipPhotoUpload}" title="#{stMessages['g.PPT.candphoto.skipinfo']}"/>
                                    </ui:fragment>
                                    &#160;
                                    <p:commandLink tabindex="0"  title="#{stMessages['g.PPT.StopForNowAlt']}" styleClass="ttformlink" onclick="PF('confirmpptexitdialog').show(); return false;">
                                        <h:outputText styleClass="pflinktext textformtext anylink ttformlink" style="text-decoration:underline" value="#{stMessages['g.PPT.StopForNow']}"/>
                                    </p:commandLink>
                                </div>
                            </div>
                        </h:panelGroup>

                    </h:panelGrid>
                </h:form>

                <pp:exit-dialog />

                <p:dialog closable="true" header="#{stMessages['g.PPT.candphoto.uploading']}" widgetVar="uploadingfiledialog" style="max-width:500px;margin-left:2px;margin-right:2px">
                    <div role="status">
                        <h:panelGrid columns="1" cellpadding="10" style="width:100%;margin-left:auto;margin-right:auto">

                            <h:panelGroup>
                                <div style="text-align: center;padding-top:20px;padding-bottom:20px">
                                    <div style="display:inline-block">
                                        <h:graphicImage library="images" name="loading-6.gif" alt=""/>
                                    </div>
                                </div>
                            </h:panelGroup>

                            <h:panelGroup>
                                <span tabindex="0" id="uploadingdiatxtspan"><h:outputText value="#{stMessages['g.PPT.candphoto.uploading.P1']}"/></span>
                            </h:panelGroup>

                            <h:panelGroup>
                                <div style="text-align: center;">
                                    <div style="display:inline-block">
                                        <p:button id="uploadingfiledialogcancelbut" value="#{stMessages['g.Cancel']}"  onclick="cancelImageFileUpload(); PF('uploadingfiledialog').hide(); return false;"/>
                                    </div>
                                </div>
                            </h:panelGroup>


                        </h:panelGrid>
                    </div>
                </p:dialog>

                <p:dialog closable="true" closeOnEscape="true" header="#{stMessages['g.PPT.candphoto.uperror']}" widgetVar="uploaderrordialog" style="max-width:500px;margin-left:2px;margin-right:2px">
                    <h:form>
                        <div role="error">
                            <h:panelGrid columns="2" cellpadding="10" style="margin-left:auto;margin-right:auto">

                                <h:panelGroup>
                                    <div style="width:400px">
                                        <p tabindex="0"><h:outputText value="#{stMessages['g.PPT.candphoto.uperror.P1']}"/></p>
                                        <p tabindex="0"><span id="uploaderrormsgspan"></span></p>
                                    </div>
                                </h:panelGroup>
                                <h:graphicImage library="images" name="error-64.png" alt=""/>

                                <h:panelGroup>
                                    <div style="text-align: center">
                                        <div style="display:inline-block">
                                            <p:button style="margin-bottom:5px" id="uploaderrorcancelbut" value="#{stMessages['g.TryAgain']}"  onclick="PF('uploaderrordialog').hide()"/>
                                            &#160;
                                            <p:commandButton style="margin-bottom:5px" ajax="false" action="#{corpUtils.processViewCameraHelp}" value="#{stMessages['g.PPCameraTroubleshoot']}" title="#{stMessages['g.PPCameraTroubleshootAlt']}">
                                                <f:setPropertyActionListener target="#{corpBean.directCameraHelp}" value="true"/>
                                            </p:commandButton>
                                            </h:panelGroup>
                                            <h:panelGroup></h:panelGroup>

                                            <h:panelGroup>
                                                <div style="text-align: center">
                                                    <div style="display:inline-block">
                                                        <p:commandButton style="margin-bottom:5px" ajax="false" action="#{proctorUtils.processChangeDevices}" value="#{stMessages['g.PPT.ChangeDevices']}" title="#{stMessages['g.PPT.ChangeDevices.Info']}"/>
                                                        &#160;
                                                        <p:commandButton style="margin-bottom:5px" rendered="#{proctorUtils.photosOptional}" ajax="false" action="#{proctorUtils.processContinueWithoutCamera}" value="#{stMessages['g.PPT.ProceedWithoutPhotos']}" title="#{stMessages['g.PPT.ProceedWithoutPhotos.Info']}"/>
                                                    </div>
                                                </div>
                                            </h:panelGroup>
                                            <h:panelGroup></h:panelGroup>

                                            </h:panelGrid>
                                        </div>
                                        </h:form>
                                        </p:dialog>

                                        <p:dialog closable="true" closeOnEscape="true" header="#{stMessages['g.PPT.AlertTitle']}" widgetVar="alertmessaggedialog" style="max-width:600px;margin-left:2px;margin-right:2px">
                                            <h:form>
                                                <div role="error">
                                                    <h:panelGrid columns="1" cellpadding="5">

                                                        <h:panelGroup>
                                                            <img style="float:right;margin-left:10px;margin-right:10px;margin-bottom:10px" src="https://cdn.hravatar.com/web/orgimage/zrWvh1uNWrg-/img_16x1675891890610.png"  alt=""/>
                                                            <span id="alertmsgtxtspan" tabindex="0"></span>
                                                        </h:panelGroup>

                                                        <h:panelGroup>
                                                            <span id="alertmsgtxtspan2" tabindex="0"></span>
                                                        </h:panelGroup>

                                                        <h:panelGroup>
                                                            <div id="alertmessageclosebut" style="display:inline;padding-right:10px">
                                                                <p:button style="margin-bottom:5px" id="alertmsgclosebut" value="#{stMessages['g.Close']}" onclick="PF('alertmessaggedialog').hide(); return false;"/>
                                                            </div>
                                                            <div id="alertmessagehelpbut" style="display:none">
                                                                <p:commandButton style="margin-bottom:5px" ajax="false" action="#{corpUtils.processViewCameraHelp}" value="#{stMessages['g.PPCameraTroubleshoot']}" title="#{stMessages['g.PPCameraTroubleshootAlt']}">
                                                                    <f:setPropertyActionListener target="#{corpBean.directCameraHelp}" value="true"/>
                                                                </p:commandButton>
                                                            </div>
                                                        </h:panelGroup>

                                                        <h:panelGroup>
                                                            <div id="alertmessagehelpbut2" style="display:none">
                                                                <p:commandLink tabindex="0" ajax="false" action="#{proctorUtils.processChangeDevices}" styleClass="ttdialoglink" title="#{stMessages['g.PPT.ChangeDevices.Info']}">
                                                                    <h:outputText styleClass="anylink ttdialoglink" value="#{stMessages['g.PPT.ChangeDevicesOrCloseAndRestart']}"/>
                                                                </p:commandLink>
                                                                <ui:fragment rendered="#{proctorUtils.photosOptional}">
                                                                    <br />
                                                                    <p:commandLink tabindex="0" ajax="false" action="#{proctorUtils.processContinueWithoutCamera}" styleClass="ttdialoglink" title="#{stMessages['g.PPT.ProceedWithoutPhotos.Info']}">
                                                                        <h:outputText styleClass="anylink ttdialoglink" value="#{stMessages['g.PPT.ProceedWithoutPhotos']}"/>
                                                                    </p:commandLink>
                                                                </ui:fragment>
                                                            </div>
                                                        </h:panelGroup>

                                                    </h:panelGrid>
                                                </div>
                                            </h:form>
                                        </p:dialog>




                                        </ui:define>

                                        </ui:composition>

                                        </body>
                                        </html>